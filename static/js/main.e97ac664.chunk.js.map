{"version":3,"sources":["utils/routes.js","containers/Landing/index.js","App.js","components/Loading/index.js","index.js","containers/Landing/index.module.scss"],"names":["routes","path","component","lazy","Landing","handleConnect","className","styles","wrapper","title","text","button","type","onClick","App","useState","groupId","setGroupId","id","setId","url","window","location","search","history","useHistory","a","connect","sendPromise","useEffect","params","URLSearchParams","subscribe","detail","data","has","get","push","console","log","to","exact","map","route","key","Loading","send","ReactDOM","render","fallback","document","getElementById","module","exports"],"mappings":"mhBAwBeA,EAfA,CACX,CACIC,KAAM,YACNC,UAPSC,gBAAK,kBAAM,kCASxB,CACIF,KAAM,QACNC,UAVKC,gBAAK,kBAAM,kCAYpB,CACIF,KAAM,UACNC,UAbeC,gBAAK,kBAAM,mC,iBCUnBC,EAZC,SAAC,GAAD,IAAGC,EAAH,EAAGA,cAAH,OACZ,yBAAKC,UAAWC,IAAOC,SACnB,wBAAIF,UAAWC,IAAOE,OAAtB,8OACA,uBAAGH,UAAWC,IAAOG,MAArB,yeACA,4BAAQJ,UAAWC,IAAOI,OAAQC,KAAK,SAASC,QAASR,GAAzD,6GCgEOS,G,OA/DH,WAAO,IAAD,EACaC,mBAAS,MADtB,mBACVC,EADU,KACDC,EADC,OAEGF,mBAAS,MAFZ,mBAEVG,EAFU,KAENC,EAFM,KAIXC,EAAMC,OAAOC,SAASC,OACtBC,EAAUC,cALC,4CA+BjB,sBAAAC,EAAA,sEACOC,IAAQC,YAAY,0BAD3B,4CA/BiB,sBAqCjB,OA9BAC,qBAAU,WACT,IAAMC,EAAS,IAAIC,gBAAgBX,GACnCO,IAAQK,WAAU,YAAiC,IAAD,IAA7BC,OAAUrB,EAAmB,EAAnBA,KAAMsB,EAAa,EAAbA,KACvB,iCAATtB,GACHK,EAAWiB,MAKTJ,EAAOK,IAAI,gBACbhB,EAAMW,EAAOM,IAAI,gBAKflB,GACFM,EAAQa,KAAK,eAMb,CAACb,EAASN,EAAIE,IAMjBkB,QAAQC,IAAI,UAAWvB,GAGtB,oCACGE,EAKD,oCACC,gCACC,4BACC,4BAAI,kBAAC,IAAD,CAASsB,GAAG,YAAYC,OAAK,GAA7B,aACJ,4BAAI,kBAAC,IAAD,CAASD,GAAG,UAAUC,OAAK,GAA3B,QACJ,4BAAI,kBAAC,IAAD,CAASD,GAAG,QAAQC,OAAK,GAAzB,WAGN,8BACC,kBAAC,IAAD,KACEzC,EAAO0C,KAAI,SAAAC,GAAK,OAAI,kBAAC,IAAD,CAAOC,IAAKD,EAAM1C,KAAMA,KAAM0C,EAAM1C,KAAMC,UAAWyC,EAAMzC,kBAdnF,oCACC,kBAAC,EAAD,CAASG,cAzCI,iDCLHwC,G,OAFC,kBAAM,yBAAKvC,UAAU,cCQrCqB,IAAQmB,KAAK,gBAQbC,IAASC,OACL,kBAAC,IAAD,KACI,kBAAC,WAAD,CAAUC,SAAU,kBAAC,EAAD,OAChB,kBAAC,EAAD,QAIRC,SAASC,eAAe,U,mBCzB5BC,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,OAAS,0B","file":"static/js/main.e97ac664.chunk.js","sourcesContent":["import { lazy } from 'react';\n// import Settings from 'containers/Settings';\n// import Help from 'containers/Help';\n// import WidgetSettings from 'containers/WidgetSettings';\n\nconst Settings = lazy(() => import('containers/Settings'));\nconst Help = lazy(() => import('containers/Help'));\nconst WidgetSettings = lazy(() => import('containers/WidgetSettings'));\n\nconst routes = [\n    {\n        path: '/settings',\n        component: Settings\n    },\n    {\n        path: '/help',\n        component: Help\n    },\n    {\n        path: '/widget',\n        component: WidgetSettings\n    }\n];\n\nexport default routes;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.scss';\n\nconst Landing = ({ handleConnect }) => (\n    <div className={styles.wrapper}>\n        <h1 className={styles.title}>Получите в 2 раза больше клиентов из сообщесв VK!</h1> \n        <p className={styles.text}>Ваши акции, рассылки, формы заявок, отзывы и другой контент станет заметнее с нашими виджитами!</p>\n        <button className={styles.button} type=\"button\" onClick={handleConnect}>Подключить виджиты</button>\n    </div>\n);\n\nLanding.propTypes = {\n    handleConnect: PropTypes.func.isRequired\n};\n\nexport default Landing;","import React, { useState, useEffect } from 'react';\nimport { NavLink, Route, Switch, useHistory } from 'react-router-dom';\nimport connect from '@vkontakte/vk-connect';\n\nimport routes from 'utils/routes'\n\nimport Landing from './containers/Landing';\n\nimport './App.scss';\n\nconst App = () => {\n\tconst [groupId, setGroupId] = useState(null);\n\tconst [id, setId] = useState(null);\n\n\tconst url = window.location.search;\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tconst params = new URLSearchParams(url);\n\t\tconnect.subscribe(({ detail: { type, data } }) => {\n\t\t\tif (type === 'VKWebAppAddToCommunityResult') {\n\t\t\t\tsetGroupId(data);\n\t\t\t}\n\t\t});\n\n\t\tfunction hasApp() {\n\t\t\tif(params.has('vk_group_id')) {\n\t\t\t\tsetId(params.get('vk_group_id'));\n\t\t\t}\n\t\t}\n\n\t\tfunction handleRedirect() {\n\t\t\tif(id) {\n\t\t\t\thistory.push('/settings');\n\t\t\t}\n\t\t}\n\n\t\thasApp();\n\t\thandleRedirect();\n\t}, [history, id, url])\n\n\tasync function connectToGroup() {\n\t\tawait connect.sendPromise('VKWebAppAddToCommunity');\n\t}\n\n\tconsole.log(\"groupId\", groupId);\n\n\treturn (\n\t\t<>\n\t\t\t{!id ? (\n\t\t\t\t<>\n\t\t\t\t\t<Landing handleConnect={connectToGroup} />\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><NavLink to=\"/settings\" exact>Settings</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/widget\" exact>Pay</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/help\" exact>Help</NavLink></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</header>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{routes.map(route => <Route key={route.path} path={route.path} component={route.component} />)}\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</main>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default App;\n\n","import React from 'react';\nimport './index.css';\n\nconst Loading = () => <div className=\"loading\" />;\n\nexport default Loading;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React, {Suspense} from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport { MemoryRouter } from 'react-router-dom';\nimport App from './App';\nimport Loading from 'components/Loading';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(\n    <MemoryRouter>\n        <Suspense fallback={<Loading />}>\n            <App />\n        </Suspense>\n        {/* <App /> */}\n    </MemoryRouter>,\n    document.getElementById('root')\n );\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Landing_wrapper__6xuVD\",\"title\":\"Landing_title__3waDk\",\"text\":\"Landing_text__82RFR\",\"button\":\"Landing_button__1oEYG\"};"],"sourceRoot":""}